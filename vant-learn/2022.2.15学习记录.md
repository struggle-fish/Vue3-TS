# Buttonå­¦ä¹ è®°å½•


### è®°å½•

`å‡½æ•°å¼ç»„ä»¶`, çœ‹äº†ä¸€å †å‡½æ•°å¼ç»„ä»¶çš„æ–‡ç« ï¼Œè¿˜æ²¡çœ‹å®Œï¼Œï¼Œç»§ç»­

- `20220228` è®°å½•

æœ€è¿‘ä¸€ç›´åœ¨æ¶è¡¥TSåŸºç¡€ï¼Œï¼Œç„¶åé¡¹ç›®é‡Œè¯´æ˜¯ä»¥ååˆå‡†å¤‡è¦ç”¨Flutteräº†ï¼Œåˆçœ‹äº†ä¸€ç‚¹å„¿DartåŸºç¡€ã€‚ã€‚å“ˆå“ˆï¼Œè¿™ä¸ªå°±æ…¢äº†ï¼Œç»§ç»­çœ‹ã€‚

- `20221229` è®°å½•

è¿™ç©æ„æ”¾äº†ä¸€å¹´ï¼Œç„¶åå›å¤´æ¥å‘ç°åŸæ¥å½“æ—¶æ˜¯çœŸçš„ä¸å¤ªæ‡‚ ts çš„å„ç§è¯­æ³•ï¼Œå¾—äºåæ¥æ˜¯å„ç§çœ‹ï¼Œç°åœ¨ç»ˆäºæ˜¯æœ‰æ„Ÿè§‰äº†ã€‚
è¿™ä¸€å¹´çœŸçš„æ˜¯ç»å†äº†å¤ªå¤šäº†ï¼ŒğŸ˜”ã€‚


### utils ç›®å½•

```markdown

|-- create // ç»„ä»¶åˆ›å»º
    |-- bem.ts // class å‘½åè§„èŒƒ
    |-- component.ts // åˆ›å»ºç»„ä»¶
    |-- i18n.ts
    |-- index.ts // å…¥å£
|-- dom
|-- format
|-- test
|-- validate
|-- constant.ts // é¢œè‰²å’Œ1pxå˜é‡
|-- deep-assign.ts
|-- deep-clone.ts
|-- functional.ts
|-- index.ts // å­˜æ”¾äº†å¾ˆå¤šå·¥å…·æ–¹æ³•
    | -- isFunction | isObject | isPromise
|-- interceptor.ts
|-- router.ts
|-- types.ts
|-- vnodes.ts

```

## [vueå‡½æ•°å¼ç»„ä»¶åœ¨é¡¹ç›®ä¸­çš„ä½¿ç”¨](https://www.cnblogs.com/coder--wang/p/15079261.html)

`å‡½æ•°å¼ç»„ä»¶æ˜¯å…¨å±€æ³¨å†Œçš„`


## å‡½æ•°å¼ç»„ä»¶ æ²¡æœ‰ data, æ— çŠ¶æ€ç»„ä»¶
å‡½æ•°å¼ç»„ä»¶ï¼ˆfunctional componentï¼‰æ˜¯ä¸€ä¸ªä¸æŒæœ‰çŠ¶æ€dataã€å®ä¾‹thiså’Œç”Ÿå‘½å‘¨æœŸçš„ç»„ä»¶ã€‚

å‡½æ•°å¼ç»„ä»¶æ²¡æœ‰ dataã€ç”Ÿå‘½å‘¨æœŸå’Œthisï¼Œå‡½æ•°å¼ç»„ä»¶åˆå«æ— çŠ¶æ€ç»„ä»¶ï¼ˆstateless componentï¼‰ã€‚




## å‡½æ•°å¼ç»„ä»¶çš„ç‰¹ç‚¹
ä¸€ä¸ªå‡½æ•°å¼ç»„ä»¶ï¼ˆFC - functional componentï¼‰å°±æ„å‘³ç€ä¸€ä¸ªæ²¡æœ‰å®ä¾‹ï¼ˆæ²¡æœ‰ `this` ä¸Šä¸‹æ–‡ã€æ²¡æœ‰ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ã€ä¸ç›‘å¬ä»»ä½•å±æ€§ã€ä¸ç®¡ç†ä»»ä½•çŠ¶æ€ï¼‰çš„ç»„ä»¶ã€‚
ä»å¤–éƒ¨çœ‹ï¼Œå®ƒä¹Ÿå¯ä»¥è¢«è§†ä½œä¸€ä¸ªåªæ¥å—ä¸€äº› `prop` å¹¶æŒ‰é¢„æœŸè¿”å›æŸç§æ¸²æŸ“ç»“æœçš„ `fc(props) => VNode` å‡½æ•°ã€‚ Vue ä¸­çš„ `FC` æœ‰æ—¶ä¹Ÿè¢«ç§°ä½œæ— çŠ¶æ€ç»„ä»¶`ï¼ˆstateless componentï¼‰`ã€‚


RenderContext ç±»å‹è¢«ç”¨æ¥çº¦æŸ render å‡½æ•°çš„ç¬¬äºŒä¸ªå‚æ•°ï¼Œvue 2.x é¡¹ç›®ä¸­å¯¹æ¸²æŸ“ä¸Šä¸‹æ–‡çš„ç±»å‹å®šä¹‰å¦‚ä¸‹ï¼š

[RenderContext](https://github.com/vuejs/vue/blob/c52427b0d2c1d203deea6eb69f2b4b181d56022c/types/options.d.ts#L137)

```typescript
// types/options.d.ts 

export interface RenderContext<Props=DefaultProps> {
  props: Props;
  children: VNode[];
  slots(): any;
  data: VNodeData;
  parent: Vue;
  listeners: { [key: string]: Function | Function[] };
  scopedSlots: { [key: string]: NormalizedScopedSlot };
  injections: any
}
```

- propsï¼šæä¾›æ‰€æœ‰ prop çš„å¯¹è±¡
- childrenï¼šVNode å­èŠ‚ç‚¹çš„æ•°ç»„
- slotsï¼šä¸€ä¸ªå‡½æ•°ï¼Œè¿”å›äº†åŒ…å«æ‰€æœ‰æ’æ§½çš„å¯¹è±¡
- scopedSlotsï¼š(2.6.0+) ä¸€ä¸ªæš´éœ²ä¼ å…¥çš„ä½œç”¨åŸŸæ’æ§½çš„å¯¹è±¡ã€‚ä¹Ÿä»¥å‡½æ•°å½¢å¼æš´éœ²æ™®é€šæ’æ§½ã€‚
- dataï¼šä¼ é€’ç»™ç»„ä»¶çš„æ•´ä¸ªæ•°æ®å¯¹è±¡ï¼Œä½œä¸º createElement çš„ç¬¬äºŒä¸ªå‚æ•°ä¼ å…¥ç»„ä»¶
- parentï¼šå¯¹çˆ¶ç»„ä»¶çš„å¼•ç”¨
- listenersï¼š(2.3.0+) ä¸€ä¸ªåŒ…å«äº†æ‰€æœ‰çˆ¶ç»„ä»¶ä¸ºå½“å‰ç»„ä»¶æ³¨å†Œçš„äº‹ä»¶ç›‘å¬å™¨çš„å¯¹è±¡ã€‚è¿™æ˜¯ data.on çš„ä¸€ä¸ªåˆ«åã€‚
- injectionsï¼š(2.3.0+) å¦‚æœä½¿ç”¨äº† inject é€‰é¡¹ï¼Œåˆ™è¯¥å¯¹è±¡åŒ…å«äº†åº”å½“è¢«æ³¨å…¥çš„ propertyã€‚






## å‡½æ•°å¼ç»„ä»¶å‚è€ƒæ–‡ç« 
- [vue2 ä¸­çš„å‡½æ•°å¼ç»„ä»¶](https://segmentfault.com/a/1190000040159888)
- [Vue.js å‡½æ•°å¼ç»„ä»¶çš„å…¨é¢è®²è§£](http://www.codebaoku.com/it-js/it-js-226807.html) â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸
- [vueå‡½æ•°å¼ç»„ä»¶åœ¨é¡¹ç›®ä¸­çš„ä½¿ç”¨](https://www.cnblogs.com/coder--wang/p/15079261.html) â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸
- [æ¸²æŸ“å‡½æ•°&JSX](https://cn.vuejs.org/v2/guide/render-function.html)
- [ä¸å®Œå…¨ç¬”è®°ä¹‹Vue2.xå‡½æ•°å¼ç»„ä»¶](https://juejin.cn/post/6983333333858009125)
- [ç«‹ç­‰å¯å–çš„ Vue + Typescript å‡½æ•°å¼ç»„ä»¶å®æˆ˜](https://juejin.cn/post/6886297504561037325)
- [æ­ç§˜ Vue.js ä¹ä¸ªæ€§èƒ½ä¼˜åŒ–æŠ€å·§](https://juejin.cn/post/6922641008106668045#heading-0)
- [Vue å‡½æ•°å¼ç»„ä»¶åŸç†å’Œä½¿ç”¨è¯¦è§£](https://blog.csdn.net/weixin_41275295/article/details/100189869)


## slot ä¸ slot-scope

`åœ¨vue2.6ä¸­ï¼Œä¸Šè¿°çš„APIè¢«è½¯åºŸå¼ƒï¼ˆ3.0æ­£å¼åºŸå¼ƒï¼‰ï¼Œå–è€Œä»£ä¹‹çš„æ˜¯å†…ç½®æŒ‡ä»¤v-slotï¼Œå¯ä»¥ç¼©å†™ä¸ºã€#ã€‘`

- `slot`ï¼Œä¹Ÿç§°æ’æ§½ï¼ŒVue çš„ `slot`ï¼Œæ˜¯ç»„ä»¶çš„ä¸€å—HTMLæ¨¡ç‰ˆï¼Œè¿™å—æ¨¡ç‰ˆç”±ä½¿ç”¨ç»„ä»¶è€…å³çˆ¶ç»„ä»¶æä¾›ã€‚å¯ä»¥è¯´æ˜¯å­ç»„ä»¶æš´éœ²çš„ä¸€ä¸ªè®©çˆ¶ç»„ä»¶ä¼ å…¥è‡ªå®šä¹‰å†…å®¹çš„æ¥å£ã€‚

- `slot-scope` ä½œç”¨åŸŸæ’æ§½åœ¨ä½œç”¨åŸŸä¸Šç»‘å®šå±æ€§æ¥å°†å­ç»„ä»¶çš„ä¿¡æ¯ä¼ ç»™çˆ¶ç»„ä»¶ä½¿ç”¨ï¼Œè¿™äº›å±æ€§ä¼šè¢«æŒ‚åœ¨çˆ¶ç»„ä»¶slot-scopeæ¥å—çš„å¯¹è±¡ä¸Šã€‚


- ä½œç”¨åŸŸæ’æ§½çš„åŸç†
  
`slot`æœ¬è´¨ä¸Šæ˜¯è¿”å› `VNode` çš„å‡½æ•°ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ï¼ŒVue ä¸­çš„ç»„ä»¶è¦æ¸²æŸ“åˆ°é¡µé¢ä¸Šéœ€è¦ç»è¿‡

`template >> render function >> VNode >> DOM` è¿‡ç¨‹ã€‚ ç»„ä»¶æŒ‚è½½çš„æœ¬è´¨å°±æ˜¯æ‰§è¡Œæ¸²æŸ“å‡½æ•°å¾—åˆ°`VNode`

è‡³äº `data/props/computed` è¿™äº›å±æ€§éƒ½æ˜¯ç»™ `VNode` æä¾›æ•°æ®æ¥æºã€‚


åœ¨2.5ä¹‹å‰ï¼Œå¦‚æœæ˜¯æ™®é€šæ’æ§½å°±ç›´æ¥æ˜¯`VNode`çš„å½¢å¼äº†ï¼Œ

è€Œå¦‚æœæ˜¯ä½œç”¨åŸŸæ’æ§½ï¼Œç”±äºå­ç»„ä»¶éœ€è¦åœ¨çˆ¶ç»„ä»¶è®¿é—®å­ç»„ä»¶çš„æ•°æ®ï¼Œæ‰€ä»¥çˆ¶ç»„ä»¶ä¸‹æ˜¯ä¸€ä¸ªæœªæ‰§è¡Œçš„å‡½æ•°`(slotScope) => return h('div', slotScope.msg)`ï¼Œ
æ¥å—å­ç»„ä»¶çš„`slotProps`å‚æ•°ï¼Œåœ¨å­ç»„ä»¶æ¸²æŸ“å®ä¾‹æ—¶ä¼šè°ƒç”¨è¯¥å‡½æ•°ä¼ å…¥æ•°æ®ã€‚

åœ¨2.6ä¹‹åï¼Œä¸¤è€…åˆå¹¶ï¼Œæ™®é€šæ’æ§½ä¹Ÿå˜æˆä¸€ä¸ªå‡½æ•°ï¼Œåªæ˜¯ä¸æ¥å—å‚æ•°äº†ã€‚




[[Vue] slotè¯¦è§£ï¼Œslotã€slot-scopeå’Œv-slot](https://juejin.cn/post/6844903817746628615)



