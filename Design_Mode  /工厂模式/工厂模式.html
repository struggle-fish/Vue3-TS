<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Title</title>
</head>
<body>

</body>
</html>
<script>

	/*
		工厂模式
		由一个工厂对象决定创建某一种产品对象类的实例，主要用来创建同一类对象

		简单工厂模式的优点：
			只需要一个正确的参数，就可以获取到所需要的对象，而无需要知道其创建的具体细节
		但是在函数内包含了所有对象的创建逻辑和判断逻辑代码，每增加新的构造函数还需要修改判断逻辑代码
		当我们的对象不是3个而是10个或者更多，这个函数会成为一个庞大的超级函数，难以维护。

		简单工厂模式用于创建对象数量较少，对象的创建逻辑不复杂时使用
	*/



	function User(role, pages){
		this.role = role
		this.pages = pages
	}

	// 根据角色添加权限
	// new User('superadmin',['home', 'list'])

	// new User('admin',['home'])

	// 决定生成那种角色对象
	// 根据传入的原料，加工出来不同的对象
	// 简单工厂模式
	function UserFactory(role) {
		switch (role) {
			case 'superadmin':
				return new User('superadmin',['home', 'list'])
			break;
			case 'admin':
				return new User('admin',['home'])
				break
			default:
				throw new Error('参数错误')
		}
	}

	var user = UserFactory('admin')
	console.log(user)
</script>

<script>

	class User {
		constructor(role, pages) {
			this.role = role
			this.pages = pages
		}

		static UserFactory(role) {
			switch (role) {
				case 'superadmin':
					return new User('superadmin',['home', 'list'])
					break;
				case 'admin':
					return new User('admin',['home'])
					break
				default:
					throw new Error('参数错误')
			}
		}

	}

	var user2 = User.UserFactory('admin')

</script>
