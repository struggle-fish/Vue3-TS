<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Title</title>
</head>
<body>

</body>
</html>
<script>

	/*
		工厂模式
		由一个工厂对象决定创建某一种产品对象类的实例，主要用来创建同一类对象


	*/



	function User(role, pages){
		this.role = role
		this.pages = pages
	}

	// 根据角色添加权限
	// new User('superadmin',['home', 'list'])

	// new User('admin',['home'])

	// 决定生成那种角色对象
	// 根据传入的原料，加工出来不同的对象
	// 简单工厂模式
	function UserFactory(role) {
		switch (role) {
			case 'superadmin':
				return new User('superadmin',['home', 'list'])
			break;
			case 'admin':
				return new User('admin',['home'])
				break
			default:
				throw new Error('参数错误')
		}
	}

	var user = UserFactory('admin')
	console.log(user)
</script>

<script>

	class User {
		constructor(role, pages) {
			this.role = role
			this.pages = pages
		}

		static UserFactory(role) {
			switch (role) {
				case 'superadmin':
					return new User('superadmin',['home', 'list'])
					break;
				case 'admin':
					return new User('admin',['home'])
					break
				default:
					throw new Error('参数错误')
			}
		}

	}

	var user2 = User.UserFactory('admin')

</script>
