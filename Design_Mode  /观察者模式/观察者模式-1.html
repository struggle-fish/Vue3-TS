<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Title</title>
	<style>
		.box {
				display: flex;
				justify-content: space-between;
		}
		.side {
				background: #42b983;
				width: 20%;
		}
		.right {
				flex: 1;
				background: yellow;
				height: 500px;
		}
		.navbox {
				background: #0074D9;
				width: 100%;
				height: 100px;
		}
	</style>
</head>
<body>
<div class="navbox">

</div>
<div class="box">
	<div class="side" id="side">
		<ul>
			<li>
				首页
			</li>
			<li>
				用户管理
			</li>
			<li>
				权限管理
			</li>
		</ul>
	</div>
	<div class="right">

	</div>
</div>
</body>
</html>
<script>


	class Subject {
		constructor() {
			this.observers = []
		}

		add(observers) {
			this.observers.push(observers)
		}

		notify(data) {
			this.observers.forEach(item => {
				console.log(item)
				item.update(data)
			})
		}

		remove(observer) {
			this.observers = this.observers.filter(item => item !== observer)
		}
	}

	class Observer {
		constructor(name) {
			this.ele = document.querySelector(name)
		}
		update(data) {
			console.log('update')
			this.ele.innerHTML = data
		}
	}

	// 点击li的时候 要更新 顶部 和右侧
	let subject = new Subject()

	let observer1 = new Observer('.navbox')
	let observer2 = new Observer('.right')

	subject.add(observer1)
	subject.add(observer2)

	let eleLi = document.querySelectorAll('#side li')
	for (let i = 0; i < eleLi.length; i++) {
		eleLi[i].onclick = function () {
			// console.log(i)
			subject.notify(eleLi[i].innerHTML)
		}
	}
</script>
